<div class="container">
	<div class="jumbotron">
		<h3><%=@user.username%></h3>
		</br>

		<div class="row">
			<p class="col-xs-12 col-md-3">
			  <strong>Email:</strong>
			  <%= @user.email %>
			</p>

			<p class="col-xs-12 col-md-3">
			  <strong>Team:</strong>
			  <%= @user.team %>
			</p>

			<p class="col-xs-12 col-md-3">
			  <strong>Admin:</strong>
			  <% if @user.admin? %>
			  	Yes
			  <% else %>
			  	No
			  <% end %>	
			</p>

			<p class="col-xs-12 col-md-3">
			  <strong>Last logged in on:</strong>
			  <% unless @user.last_sign_in_at == nil or 0 %>
          <%= @user.last_sign_in_at.to_formatted_s(:long) %>
        <% else %>
          Never   
        <% end %>
			</p>
		</div>
			
		<div class="row">
			<% if Drill.where(user_id:@user.id).count > 0 %>
				<div class="col-xs-12">
					<p><strong>This user created the following drills:</strong></p>
			    <div class="row">
			      <div class="table-responsive">
			        <table class="table table-hover">
							  <thead>
							    <tr>
							      <th>Title</th>
							      <th colspan="1"></th>
							    </tr>
							  </thead>

							  <tbody>
							    <% Drill.where(user_id:@user.id).each do |d| %>
							      <tr>
							        <td><%= d.title %></td>
							        <td><%= link_to 'View', drill_path(d), class: "btn btn-default" %></td>
							      </tr>
							    <% end %>
							  </tbody>
							</table>
						</div>
					</div>
				</div>
			<% else %>
				<div class="col-xs-12">
					<p><strong>This user has not created any drills</strong></p>
				</div>
			<% end %>	
		</div>

		<div class="row">	 
			<p class="center">
				<% if can? :update, User %>
					<%= link_to 'Edit', edit_user_path(@user) %> |
				<% end %>
				<% if can? :update, User %>
					<%= link_to "Delete", @user, method: :delete,
                                  data: { confirm: "You sure?" } %> |
				<% end %>
				<%= link_to 'Back', users_path %>
			</p>
		</div>	
	</div>
</div>
